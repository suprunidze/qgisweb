<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Порівняння зображень</title>
    <style>
        /* Стилі для body та загального вигляду */
        body {
            margin: 0;
            overflow: hidden; /* Запобігає прокручуванню сторінки */
            display: flex;
            justify-content.center;
            align-items.center;
            min-height: 100vh; /* Забезпечує, що контейнер займає всю висоту вікна */
            font-family: 'Inter', sans-serif; /* Використовуємо шрифт Inter */
            background-color: #f0f0f0;
            color: #333;
        }

        /* Контейнер для порівняння зображень */
        .image-comparison-container {
            position: relative;
            width: 90vw; /* Займає 90% ширини вікна */
            max-width: 900px; /* Максимальна ширина для великих екранів */
            height: 60vh; /* Займає 60% висоти вікна */
            max-height: 600px; /* Максимальна висота */
            overflow: hidden; /* Обрізає вміст, що виходить за межі */
            border: 1px solid #ccc;
            border-radius: 12px; /* Закруглені кути */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15); /* Більш виражена тінь */
            cursor: ew-resize; /* Курсор для горизонтального зміни розміру */
            background-color: #fff;
            display: flex; /* Використовуємо flexbox для внутрішнього розташування */
        }

        /* Стилі для обгортки зображень */
        .image-wrapper {
            position: absolute; /* Абсолютне позиціонування відносно контейнера */
            top: 0;
            height: 100%;
            overflow: hidden;
            display: flex; /* Flexbox для центрування зображення */
            justify-content: center;
            align-items: center;
        }

        /* Стилі для самих зображень */
        .image-wrapper img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover; /* Забезпечує, що зображення покриває весь контейнер */
            user-select: none; /* Запобігає виділенню зображення */
            pointer-events: none; /* Запобігає взаємодії з зображенням під час перетягування */
        }

        /* Стилі для лівого зображення */
        .left-image {
            left: 0;
            width: 50%; /* Початкова ширина лівого зображення */
        }

        /* Стилі для правого зображення */
        .right-image {
            right: 0;
            width: 100%; /* Праве зображення завжди займає 100% ширини контейнера */
            /* Його видима частина буде обрізана лівим зображенням та повзунком */
        }

        /* Стилі для повзунка */
        .slider-handle {
            position: absolute;
            top: 0;
            left: 50%; /* Початкова позиція повзунка по центру */
            width: 4px; /* Товщина повзунка */
            height: 100%;
            background-color: #3498db; /* Колір повзунка */
            transform: translateX(-50%); /* Центруємо повзунок відносно його left */
            cursor: ew-resize;
            z-index: 10; /* Забезпечує, що повзунок знаходиться над зображеннями */
            border-radius: 2px; /* Закруглені кути повзунка */
            box-shadow: 0 0 8px rgba(52, 152, 219, 0.5); /* Тінь для повзунка */
            transition: background-color 0.2s ease, box-shadow 0.2s ease; /* Плавний перехід */
        }

        /* Візуальні елементи для повзунка */
        .slider-handle::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 36px; /* Ширина круга */
            height: 36px; /* Висота круга */
            background-color: #3498db;
            border-radius: 50%;
            border: 3px solid #fff; /* Біла обводка */
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.4); /* Тінь для круга */
            transition: transform 0.2s ease, background-color 0.2s ease;
        }

        .slider-handle::after {
            content: '\2194'; /* Символ подвійної стрілки вправо-вліво */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            font-size: 1.4em; /* Збільшений розмір шрифту */
            font-weight: bold;
            z-index: 11; /* Переконайтеся, що стрілка над кругом */
        }

        /* Стилі при перетягуванні */
        .image-comparison-container.dragging {
            cursor: grabbing; /* Курсор при перетягуванні */
        }

        .image-comparison-container.dragging .slider-handle {
            background-color: #2980b9; /* Зміна кольору при перетягуванні */
            box-shadow: 0 0 12px rgba(41, 128, 185, 0.7);
        }

        .image-comparison-container.dragging .slider-handle::before {
            transform: translate(-50%, -50%) scale(1.1); /* Збільшення круга при перетягуванні */
            background-color: #2980b9;
        }
    </style>
</head>
<body>
    <div class="image-comparison-container">
        <div class="image-wrapper left-image">
            <img src="https://placehold.co/1200x800/87CEEB/FFFFFF?text=Left+Image" alt="Ліве зображення">
        </div>
        <div class="image-wrapper right-image">
            <img src="https://placehold.co/1200x800/FFA07A/FFFFFF?text=Right+Image" alt="Праве зображення">
        </div>
        <div class="slider-handle"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Отримуємо посилання на необхідні DOM-елементи
            const container = document.querySelector('.image-comparison-container');
            const leftImage = document.querySelector('.left-image');
            const sliderHandle = document.querySelector('.slider-handle');

            let isDragging = false; // Змінна для відстеження стану перетягування

            /**
             * Оновлює позицію повзунка та ширину лівого зображення.
             * @param {number} clientX - Координата X курсора або дотику.
             */
            const updateSlider = (clientX) => {
                // Отримуємо розміри та позицію контейнера
                const containerRect = container.getBoundingClientRect();
                // Обчислюємо нову позицію X відносно початку контейнера
                let newX = clientX - containerRect.left;

                // Обмежуємо рух повзунка в межах контейнера
                if (newX < 0) {
                    newX = 0;
                } else if (newX > containerRect.width) {
                    newX = containerRect.width;
                }

                // Перетворюємо позицію в відсотки
                const percentage = (newX / containerRect.width) * 100;

                // Встановлюємо нові стилі
                sliderHandle.style.left = `${percentage}%`;
                leftImage.style.width = `${percentage}%`;
            };

            // --- Обробники подій для миші ---

            // Початок перетягування при натисканні кнопки миші на повзунку
            sliderHandle.addEventListener('mousedown', (e) => {
                isDragging = true;
                container.classList.add('dragging'); // Додаємо клас для візуальних ефектів
                e.preventDefault(); // Запобігаємо стандартній поведінці браузера (наприклад, виділенню тексту)
            });

            // Рух миші (відстежується на всьому документі для плавності)
            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return; // Якщо не перетягуємо, виходимо
                updateSlider(e.clientX); // Оновлюємо позицію на основі X-координати курсора
            });

            // Завершення перетягування при відпусканні кнопки миші
            document.addEventListener('mouseup', () => {
                isDragging = false;
                container.classList.remove('dragging'); // Видаляємо клас
            });

            // --- Обробники подій для сенсорного вводу ---

            // Початок перетягування при торканні повзунка
            sliderHandle.addEventListener('touchstart', (e) => {
                isDragging = true;
                container.classList.add('dragging');
                // Запобігаємо стандартному прокручуванню сторінки під час перетягування
                e.preventDefault();
            }, { passive: false }); // passive: false дозволяє викликати e.preventDefault()

            // Рух дотику (відстежується на всьому документі)
            document.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                // e.touches[0] містить інформацію про перший дотик
                updateSlider(e.touches[0].clientX);
                e.preventDefault(); // Запобігаємо прокручуванню сторінки
            }, { passive: false });

            // Завершення перетягування при відпусканні дотику
            document.addEventListener('touchend', () => {
                isDragging = false;
                container.classList.remove('dragging');
            });

            // --- Додаткові обробники ---

            // Обробник для зміни розміру вікна
            // Це забезпечує, що повзунок залишається на 50% або зберігає відносне положення
            window.addEventListener('resize', () => {
                const containerRect = container.getBoundingClientRect();
                // Встановлюємо повзунок по центру контейнера при зміні розміру
                const middle = containerRect.left + (containerRect.width / 2);
                updateSlider(middle);
            });

            // Ініціалізація позиції повзунка при завантаженні сторінки
            // Викликаємо подію 'resize' один раз, щоб встановити початкову позицію
            window.dispatchEvent(new Event('resize'));
        });
    </script>
</body>
</html>
